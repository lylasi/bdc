專案 `bdc` 是一個使用原生 JavaScript、HTML 和 CSS 開發的、功能豐富的單頁語言學習應用程式。

**應用程式架構:**
*   **前端架構**: 純粹的 Vanilla JS，沒有使用任何現代前端框架（如 React, Vue, Angular）。所有 DOM 操作都透過標準的 `document.getElementById` 和 `element.addEventListener` 等 Web API 直接完成。
*   **狀態管理**: 應用程式的狀態由頂層的全局變數（如 `vocabularyBooks`, `activeBookId`）進行管理。這種方式簡單直接，但也意味著狀態分散且缺乏集中式的更新機制。
*   **事件驅動模型**: 應用程式的互動邏輯完全基於事件。`setupEventListeners` 函式在啟動時為所有互動元素綁定事件，後續操作皆由使用者觸發的事件來驅動。

**核心功能與技術實現:**
1.  **文章分析**:
    *   **流程**: 將文章拆分為段落，透過 `async/await` 非同步地將每個段落傳送至外部 AI 服務進行分析。
    *   **技術**: 利用 `fetch` API 進行網路請求，並在 `try...catch` 區塊中處理錯誤。返回的複雜 JSON 資料會被用來動態產生包含 `<span>` 和 `data-` 屬性的 HTML，以實現滑鼠懸停高亮和點擊分析的互動效果。

2.  **詞彙庫管理 (CRUD)**:
    *   **資料結構**: 詞彙庫是以 `{ id, name, words: [...] }` 結構儲存的 JavaScript 物件陣列。
    *   **AI 整合**: 在建立或編輯詞彙庫時，若只提供單字，應用會呼叫 AI 服務 (`getWordAnalysis`) 來自動補全音標和釋義。

3.  **互動學習模式**:
    *   **閱讀與聽寫**: 這兩個功能的核心是 `speakText` 函式。
    *   **音訊處理**: 專案不使用 Web Speech API，而是**依賴一個外部的文字轉語音 (TTS) API**。它會動態產生音訊來源的 URL，並透過一個全域、單一的 `<audio>` 元素 (`globalAudioElement`) 進行播放。這種方式是為了**解決 iOS 裝置上的音訊自動播放限制**，並透過 `unlockAudioContext` 函式在使用者首次互動時啟用音訊功能。
    *   **測驗**: 在前端動態產生測驗題目和選項，並在本機進行計分。

4.  **資料持久化**:
    *   **本機儲存**: 使用者的所有核心資料（詞彙庫、應用狀態、文章分析歷史）都透過 `JSON.stringify` 序列化後，儲存在瀏覽器的 `localStorage` 中。
    *   **預設資料**: 應用程式包含 `wordlists/` 和 `articles/` 目錄，其中的 `manifest.json` 檔案定義了可供使用者匯入的預設詞彙庫和文章。

**已知問題與潛在風險:**
*   **全域變數風險**: 大量使用全域變數來管理狀態，可能會在未來功能擴充時導致難以追蹤的 bug 和命名衝突。
*   **缺乏自動化測試**: 所有功能的正確性都依賴手動測試，這會降低開發效率並增加迴歸錯誤的風險。
*   **對外部 API 的強依賴**: 核心功能（文章分析、TTS）完全依賴外部 API，若 API 發生故障或變更，將直接影響應用程式的運作。