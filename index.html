<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>背單詞應用</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>背單詞應用</h1>
            <nav>
                <button id="vocabulary-btn" class="nav-btn active">單詞本</button>
                <button id="dictation-btn" class="nav-btn">默寫模式</button>
                <button id="learning-btn" class="nav-btn">學習模式</button>
                <button id="quiz-btn" class="nav-btn">隨堂測驗</button>
                <button id="analysis-btn" class="nav-btn">文章詳解</button>
            </nav>
        </header>

        <main>
            <!-- 單詞本頁面 -->
            <section id="vocabulary-section" class="section active">
                <h2>單詞本管理</h2>
                <div class="vocabulary-container">
                    <div class="vocabulary-input">
                        <h3>添加單詞</h3>
                        <div class="input-group">
                            <input type="text" id="word-input" placeholder="單詞 (例: apple)">
                            <input type="text" id="phonetic-input" placeholder="音標 (例: ˈæp.əl)">
                            <input type="text" id="meaning-input" placeholder="中文意思 (例: 蘋果)">
                            <button id="add-word-btn">添加</button>
                        </div>
                        <div class="input-group">
                            <textarea id="batch-input" placeholder="批量添加單詞，每行一個，格式: 單詞#中文@音標 (例: apple#蘋果@ˈæp.əl)"></textarea>
                            <button id="batch-add-btn">批量添加</button>
                        </div>
                    </div>
                    <div class="vocabulary-list">
                        <h3>單詞列表</h3>
                        <div class="list-container">
                            <ul id="word-list"></ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 默寫模式頁面 -->
            <section id="dictation-section" class="section">
                <h2>默寫模式</h2>
                <div class="dictation-container">
                    <div class="dictation-settings">
                        <h3>設置</h3>
                        <div class="settings-group">
                            <label for="repeat-times">單詞重複次數:</label>
                            <input type="number" id="repeat-times" min="1" max="5" value="2">
                        </div>
                        <div class="settings-group">
                            <label for="word-interval">單詞間隔(秒):</label>
                            <input type="number" id="word-interval" min="1" max="10" value="3">
                        </div>
                        <div class="settings-group">
                            <label for="read-meaning">朗讀中文意思:</label>
                            <input type="checkbox" id="read-meaning">
                        </div>
                        <div class="settings-group">
                            <label for="loop-mode">循環模式:</label>
                            <input type="checkbox" id="loop-mode">
                        </div>
                        <button id="start-dictation-btn">開始默寫</button>
                        <button id="stop-dictation-btn" disabled>停止</button>
                    </div>
                    <div class="dictation-practice">
                        <h3>默寫練習</h3>
                        <div id="dictation-word-display"></div>
                        <div class="input-group">
                            <input type="text" id="dictation-input" placeholder="請輸入聽到的單詞">
                            <button id="check-dictation-btn">檢查</button>
                        </div>
                        <div id="dictation-result"></div>
                    </div>
                </div>
            </section>

            <!-- 學習模式頁面 -->
            <section id="learning-section" class="section">
                <h2>學習模式</h2>
                <div class="learning-container">
                    <div class="word-selection">
                        <h3>選擇單詞</h3>
                        <select id="word-select">
                            <option value="">請選擇單詞</option>
                        </select>
                    </div>
                    <div class="word-details">
                        <div id="word-detail-container">
                            <h3 id="detail-word"></h3>
                            <p id="detail-phonetic"></p>
                            <p id="detail-meaning"></p>
                            <button id="speak-word-btn">朗讀單詞</button>
                        </div>
                    </div>
                    <div class="example-sentences">
                        <h3>例句</h3>
                        <div id="examples-container"></div>
                        <button id="generate-examples-btn">生成AI例句</button>
                    </div>
                    <div class="practice-sentences">
                        <h3>造句練習</h3>
                        <div class="input-group">
                            <textarea id="sentence-input" placeholder="請使用此單詞造句"></textarea>
                            <button id="check-sentence-btn">檢查</button>
                        </div>
                        <div id="sentence-feedback"></div>
                    </div>
                </div>
            </section>

            <!-- 隨堂測驗頁面 -->
            <section id="quiz-section" class="section">
                <h2>隨堂測驗</h2>
                <div class="quiz-container">
                    <div class="quiz-settings">
                        <h3>測驗設置</h3>
                        <div class="settings-group">
                            <label for="quiz-count">題目數量:</label>
                            <input type="number" id="quiz-count" min="5" max="20" value="10">
                        </div>
                        <div class="settings-group">
                            <label for="quiz-type">測驗類型:</label>
                            <select id="quiz-type">
                                <option value="meaning">看英文選中文</option>
                                <option value="word">看中文選英文</option>
                                <option value="phonetic">看音標選單詞</option>
                                <option value="mixed">混合模式</option>
                            </select>
                        </div>
                        <button id="start-quiz-btn">開始測驗</button>
                        <button id="stop-quiz-btn" disabled>結束測驗</button>
                    </div>
                    <div class="quiz-content">
                        <div id="quiz-info">
                            <span id="quiz-progress">題目 0/0</span>
                            <span id="quiz-score">得分: 0/0</span>
                        </div>
                        <div id="quiz-question-container">
                            <h3 id="quiz-question"></h3>
                            <div id="quiz-options"></div>
                            <button id="next-question-btn" disabled>下一題</button>
                        </div>
                        <div id="quiz-result" class="quiz-result hidden">
                            <h3>測驗完成！</h3>
                            <div id="final-score"></div>
                            <div id="quiz-summary"></div>
                            <button id="restart-quiz-btn">重新測驗</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 文章詳解頁面 -->
            <section id="analysis-section" class="section">
                <h2>文章詳解</h2>
                <div class="analysis-container">
                    <div class="analysis-input">
                        <h3>輸入文章</h3>
                        <div class="history-controls">
                            <select id="article-history-select">
                                <option value="">讀取歷史記錄</option>
                            </select>
                            <button id="delete-history-btn" title="刪除選中的歷史記錄">刪除記錄</button>
                        </div>
                        <textarea id="article-input" placeholder="在這裡輸入或粘貼您想分析的文章..."></textarea>
                        <div class="button-group">
                            <button id="analyze-article-btn">分析文章</button>
                            <button id="clear-article-btn">清除重寫</button>
                        </div>
                    </div>
                    <div class="analysis-result">
                        <h3>分析結果</h3>
                        <div id="article-analysis-container">
                            <p>請先輸入文章並點擊分析按鈕。</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <div id="word-analysis-tooltip" class="tooltip"></div>

    <script src="ai-config.js"></script>
    <script src="app.js"></script>
</body>
</html>