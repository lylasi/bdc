# 新功能設計方案 (v2): AI 輔助批量新增與合併單詞本

## 1. 總體目標

1.  **AI 輔助批量新增**: 在「新增/編輯單詞本」的介面中，允許用戶批量輸入單詞，並對信息不完整的單詞自動調用 AI 服務進行補全（音標、繁體中文釋義）。
2.  **合併單詞本**: 提供一個新功能，允許使用者選擇多個現有單詞本，將它們合併成一個新的單詞本。

## 2. 現有程式碼分析

*   **新增單詞本**: 當前，`openModalForNewBook()` 函式僅提供一個用於輸入單詞本名稱的介面。單詞的添加需要在之後通過「編輯」功能完成。
*   **編輯/新增單詞**: `openModalForEditBook()` 提供了一個 `textarea` 用於編輯單詞列表。核心的解析邏輯在 `parseWordsFromText(text)` 中，它能處理 `單詞#意思@音標` 等格式，但對於只有單詞的行，它會創建一個信息不完整的單詞物件。
*   **AI 補全邏輯**: 在 `importSharedVocabBooks()` 函式中，已經存在一個調用 `getWordAnalysis(word)` 的流程，用於在導入外部單詞本時補全缺失的單詞信息。這個 `getWordAnalysis` 函式是我們可以復用的關鍵部分。

## 3. 設計方案